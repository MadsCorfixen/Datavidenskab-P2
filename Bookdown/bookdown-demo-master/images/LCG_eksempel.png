<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><!--
""" To recover the Python script to generate this SVG, delete the line above -->
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="-95 -34 855 285">
 <title>Linear congruential generator visualisation</title>
 <desc>Visualisation of generation of pseudo-random numbers in [0, 8] using a linear congruential generator by CMG Lee. The top two rows show a generator with m = 0, a = 2 and c = 0 outputting numbers from left to right. A seed of 1 gives a cycle length of 6 but a seed of 3 gives a cycle length of only 2. Using a = 4 and c = 1 (bottom row) gives a full cycle length of 9 with any seed.</desc>
 <defs>
  <path id="hr" d="M -85,58 H 750" stroke="#cccccc"/>
  <path id="radius" d="M 0,0 V -22 A 7,7 0 1 1 0.1,-22"/>
  <path id="arrowhead" d="M -3,-1 L 0,0 L -2,2 Q -1,0 -3,-1"/>
<!-- BEGIN_DYNAMIC_SVG { -->
  <circle cx="0" cy="0" r="20" fill="#cccccc"/>
  <g id="common" font-size="12" fill="#000000">
   <text x="0" y="-29" dy="0.7ex">0</text>
   <text x="19" y="-22" dy="0.7ex">1</text>
   <text x="29" y="-5" dy="0.7ex">2</text>
   <text x="25" y="14" dy="0.7ex">3</text>
   <text x="10" y="27" dy="0.7ex">4</text>
   <text x="-10" y="27" dy="0.7ex">5</text>
   <text x="-25" y="15" dy="0.7ex">6</text>
   <text x="-29" y="-5" dy="0.7ex">7</text>
   <text x="-19" y="-22" dy="0.7ex">8</text>
  </g>
 </defs>
 <circle cx="0" cy="0" r="99999" fill="#ffffff"/>
 <g font-family="Arial,Helvetica,sans-serif" font-size="16" text-anchor="middle" stroke-linejoin="round" stroke="none" fill="none">
  <g transform="translate(0,0)">
   <g>
    <text x="0" y="48" fill="#000000">seed = 1</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(40)" stroke="#000000"/>
   </g>
   <g transform="translate(80,0)">
    <use xlink:href="#radius" transform="rotate(80)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 2</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(40)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="2" y="-7" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 0 1 4.50,-5.36"/>
     <use xlink:href="#arrowhead" transform="translate(4,-5) rotate(40)"/>
    </g>
    <text x="11" y="-4" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M 4.50,-5.36 L 6.43,-7.66 A 10.00,10.00 0 0 1 9.85,-1.74"/>
     <use xlink:href="#arrowhead" transform="translate(10,-2) rotate(80)"/>
    </g>
   </g>
   <g transform="translate(160,0)">
    <use xlink:href="#radius" transform="rotate(160)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 4</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(80)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="8" y="-3" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 0 1 6.89,-1.22"/>
     <use xlink:href="#arrowhead" transform="translate(7,-1) rotate(80)"/>
    </g>
    <text x="9" y="13" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M 6.89,-1.22 L 9.85,-1.74 A 10.00,10.00 0 0 1 3.42,9.40"/>
     <use xlink:href="#arrowhead" transform="translate(3,9) rotate(160)"/>
    </g>
   </g>
   <g transform="translate(240,0)">
    <use xlink:href="#radius" transform="rotate(320)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 8</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(160)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="7" y="10" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 0 1 2.39,6.58"/>
     <use xlink:href="#arrowhead" transform="translate(2,7) rotate(160)"/>
    </g>
    <text x="-12" y="-3" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M 2.39,6.58 L 3.42,9.40 A 10.00,10.00 0 0 1 -6.43,-7.66"/>
     <use xlink:href="#arrowhead" transform="translate(-6,-8) rotate(320)"/>
    </g>
   </g>
   <g transform="translate(320,0)">
    <use xlink:href="#radius" transform="rotate(280)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 7</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(320)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="-10" y="-1" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 1 1 -4.50,-5.36"/>
     <use xlink:href="#arrowhead" transform="translate(-4,-5) rotate(320)"/>
    </g>
    <text x="-13" y="6" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M -4.50,-5.36 L -6.43,-7.66 A 10.00,10.00 0 1 1 -9.85,-1.74"/>
     <use xlink:href="#arrowhead" transform="translate(-10,-2) rotate(640)"/>
    </g>
   </g>
   <g transform="translate(400,0)">
    <use xlink:href="#radius" transform="rotate(200)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 5</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(280)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="-10" y="6" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 1 1 -6.89,-1.22"/>
     <use xlink:href="#arrowhead" transform="translate(-7,-1) rotate(280)"/>
    </g>
    <text x="0" y="16" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M -6.89,-1.22 L -9.85,-1.74 A 10.00,10.00 0 1 1 -3.42,9.40"/>
     <use xlink:href="#arrowhead" transform="translate(-3,9) rotate(560)"/>
    </g>
   </g>
   <g transform="translate(480,0)">
    <use xlink:href="#radius" transform="rotate(40)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 1</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(200)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="1" y="13" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 1 1 -2.39,6.58"/>
     <use xlink:href="#arrowhead" transform="translate(-2,7) rotate(200)"/>
    </g>
    <text x="4" y="-10" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M -2.39,6.58 L -3.42,9.40 A 10.00,10.00 0 1 1 6.43,-7.66"/>
     <use xlink:href="#arrowhead" transform="translate(6,-8) rotate(400)"/>
    </g>
   </g>
   <g transform="translate(-80,-30)" fill="#000000">
    <text x="0" y="20" font-style="italic">m</text><text x="25" y="20">= 9</text>
    <text x="0" y="40" font-style="italic">a</text><text x="25" y="40">= 2</text>
    <text x="0" y="60" font-style="italic">c</text><text x="25" y="60">= 0</text>
   </g>
   <use xlink:href="#hr"/>
  </g>
  <g transform="translate(0,100)">
   <g>
    <text x="0" y="48" fill="#000000">seed = 3</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(120)" stroke="#000000"/>
   </g>
   <g transform="translate(80,0)">
    <use xlink:href="#radius" transform="rotate(240)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 6</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(120)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="10" y="3" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 0 1 6.06,3.50"/>
     <use xlink:href="#arrowhead" transform="translate(6,3) rotate(120)"/>
    </g>
    <text x="-8" y="14" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M 6.06,3.50 L 8.66,5.00 A 10.00,10.00 0 0 1 -8.66,5.00"/>
     <use xlink:href="#arrowhead" transform="translate(-9,5) rotate(240)"/>
    </g>
   </g>
   <g transform="translate(160,0)">
    <use xlink:href="#radius" transform="rotate(120)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 3</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(240)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="-6" y="12" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 1 1 -6.06,3.50"/>
     <use xlink:href="#arrowhead" transform="translate(-6,4) rotate(240)"/>
    </g>
    <text x="13" y="4" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M -6.06,3.50 L -8.66,5.00 A 10.00,10.00 0 1 1 8.66,5.00"/>
     <use xlink:href="#arrowhead" transform="translate(9,5) rotate(480)"/>
    </g>
   </g>
   <g transform="translate(-80,-30)" fill="#000000">
    <text x="0" y="20" font-style="italic">m</text><text x="25" y="20">= 9</text>
    <text x="0" y="40" font-style="italic">a</text><text x="25" y="40">= 2</text>
    <text x="0" y="60" font-style="italic">c</text><text x="25" y="60">= 0</text>
   </g>
   <use xlink:href="#hr"/>
  </g>
  <g transform="translate(0,200)">
   <g>
    <text x="0" y="48" fill="#000000">seed = 0</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(0)" stroke="#000000"/>
   </g>
   <g transform="translate(80,0)">
    <use xlink:href="#radius" transform="rotate(40)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 1</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(0)" stroke="#666666" stroke-dasharray="3,2"/>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 0 1 0.00,-7.00"/>
     <use xlink:href="#arrowhead" transform="translate(0,-7) rotate(0)"/>
    </g>
    <g stroke="#cc0000">
     <path d="M 0.00,-7.00 L 0.00,-10.00 A 10.00,10.00 0 0 1 0.00,-10.00"/>
     <use xlink:href="#arrowhead" transform="translate(0,-10) rotate(0)"/>
    </g>
    <g stroke="#009900">
     <path d="M 0.00,-10.00 L 0.00,-13.00 A 13.00,13.00 0 0 1 0.00,-13.00"/>
     <use xlink:href="#arrowhead" transform="translate(0,-13) rotate(0)"/>
    </g>
    <g stroke="#0000ff">
     <path d="M 0.00,-13.00 L 0.00,-16.00 A 16.00,16.00 0 0 1 0.00,-16.00"/>
     <use xlink:href="#arrowhead" transform="translate(0,-16) rotate(0)"/>
    </g>
    <text x="7" y="-17" font-size="8" font-weight="bold" fill="#000000">c</text>
    <g stroke="#000000">
     <path d="M 0.00,-16.00 L 0.00,-18.00 A 18.00,18.00 0 0 1 11.57,-13.79"/>
     <use xlink:href="#arrowhead" transform="translate(12,-14) rotate(40)"/>
    </g>
   </g>
   <g transform="translate(160,0)">
    <use xlink:href="#radius" transform="rotate(200)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 5</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(40)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="2" y="-7" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 0 1 4.50,-5.36"/>
     <use xlink:href="#arrowhead" transform="translate(4,-5) rotate(40)"/>
    </g>
    <text x="11" y="-4" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M 4.50,-5.36 L 6.43,-7.66 A 10.00,10.00 0 0 1 9.85,-1.74"/>
     <use xlink:href="#arrowhead" transform="translate(10,-2) rotate(80)"/>
    </g>
    <text x="16" y="6" font-size="8" font-weight="bold" fill="#009900">3</text>
    <g stroke="#009900">
     <path d="M 9.85,-1.74 L 12.80,-2.26 A 13.00,13.00 0 0 1 11.26,6.50"/>
     <use xlink:href="#arrowhead" transform="translate(11,6) rotate(120)"/>
    </g>
    <text x="11" y="19" font-size="8" font-weight="bold" fill="#0000ff">4</text>
    <g stroke="#0000ff">
     <path d="M 11.26,6.50 L 13.86,8.00 A 16.00,16.00 0 0 1 5.47,15.04"/>
     <use xlink:href="#arrowhead" transform="translate(5,15) rotate(160)"/>
    </g>
    <text x="0" y="25" font-size="8" font-weight="bold" fill="#000000">c</text>
    <g stroke="#000000">
     <path d="M 5.47,15.04 L 6.16,16.91 A 18.00,18.00 0 0 1 -6.16,16.91"/>
     <use xlink:href="#arrowhead" transform="translate(-6,17) rotate(200)"/>
    </g>
   </g>
   <g transform="translate(240,0)">
    <use xlink:href="#radius" transform="rotate(120)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 3</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(200)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="1" y="13" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 1 1 -2.39,6.58"/>
     <use xlink:href="#arrowhead" transform="translate(-2,7) rotate(200)"/>
    </g>
    <text x="4" y="-10" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M -2.39,6.58 L -3.42,9.40 A 10.00,10.00 0 1 1 6.43,-7.66"/>
     <use xlink:href="#arrowhead" transform="translate(6,-8) rotate(400)"/>
    </g>
    <text x="-11" y="15" font-size="8" font-weight="bold" fill="#009900">3</text>
    <g stroke="#009900">
     <path d="M 6.43,-7.66 L 8.36,-9.96 A 13.00,13.00 0 1 1 -11.26,6.50"/>
     <use xlink:href="#arrowhead" transform="translate(-11,6) rotate(600)"/>
    </g>
    <text x="17" y="-5" font-size="8" font-weight="bold" fill="#0000ff">4</text>
    <g stroke="#0000ff">
     <path d="M -11.26,6.50 L -13.86,8.00 A 16.00,16.00 0 1 1 15.76,-2.78"/>
     <use xlink:href="#arrowhead" transform="translate(16,-3) rotate(800)"/>
    </g>
    <text x="21" y="6" font-size="8" font-weight="bold" fill="#000000">c</text>
    <g stroke="#000000">
     <path d="M 15.76,-2.78 L 17.73,-3.13 A 18.00,18.00 0 0 1 15.59,9.00"/>
     <use xlink:href="#arrowhead" transform="translate(16,9) rotate(840)"/>
    </g>
   </g>
   <g transform="translate(320,0)">
    <use xlink:href="#radius" transform="rotate(160)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 4</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(120)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="10" y="3" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 0 1 6.06,3.50"/>
     <use xlink:href="#arrowhead" transform="translate(6,3) rotate(120)"/>
    </g>
    <text x="-8" y="14" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M 6.06,3.50 L 8.66,5.00 A 10.00,10.00 0 0 1 -8.66,5.00"/>
     <use xlink:href="#arrowhead" transform="translate(-9,5) rotate(240)"/>
    </g>
    <text x="-5" y="-13" font-size="8" font-weight="bold" fill="#009900">3</text>
    <g stroke="#009900">
     <path d="M -8.66,5.00 L -11.26,6.50 A 13.00,13.00 0 0 1 -0.00,-13.00"/>
     <use xlink:href="#arrowhead" transform="translate(-0,-13) rotate(360)"/>
    </g>
    <text x="19" y="7" font-size="8" font-weight="bold" fill="#0000ff">4</text>
    <g stroke="#0000ff">
     <path d="M -0.00,-13.00 L -0.00,-16.00 A 16.00,16.00 0 0 1 13.86,8.00"/>
     <use xlink:href="#arrowhead" transform="translate(14,8) rotate(480)"/>
    </g>
    <text x="14" y="19" font-size="8" font-weight="bold" fill="#000000">c</text>
    <g stroke="#000000">
     <path d="M 13.86,8.00 L 15.59,9.00 A 18.00,18.00 0 0 1 6.16,16.91"/>
     <use xlink:href="#arrowhead" transform="translate(6,17) rotate(520)"/>
    </g>
   </g>
   <g transform="translate(400,0)">
    <use xlink:href="#radius" transform="rotate(320)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 8</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(160)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="7" y="10" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 0 1 2.39,6.58"/>
     <use xlink:href="#arrowhead" transform="translate(2,7) rotate(160)"/>
    </g>
    <text x="-12" y="-3" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M 2.39,6.58 L 3.42,9.40 A 10.00,10.00 0 0 1 -6.43,-7.66"/>
     <use xlink:href="#arrowhead" transform="translate(-6,-8) rotate(320)"/>
    </g>
    <text x="16" y="6" font-size="8" font-weight="bold" fill="#009900">3</text>
    <g stroke="#009900">
     <path d="M -6.43,-7.66 L -8.36,-9.96 A 13.00,13.00 0 0 1 11.26,6.50"/>
     <use xlink:href="#arrowhead" transform="translate(11,6) rotate(480)"/>
    </g>
    <text x="-19" y="5" font-size="8" font-weight="bold" fill="#0000ff">4</text>
    <g stroke="#0000ff">
     <path d="M 11.26,6.50 L 13.86,8.00 A 16.00,16.00 0 0 1 -15.76,-2.78"/>
     <use xlink:href="#arrowhead" transform="translate(-16,-3) rotate(640)"/>
    </g>
    <text x="-19" y="-8" font-size="8" font-weight="bold" fill="#000000">c</text>
    <g stroke="#000000">
     <path d="M -15.76,-2.78 L -17.73,-3.13 A 18.00,18.00 0 0 1 -11.57,-13.79"/>
     <use xlink:href="#arrowhead" transform="translate(-12,-14) rotate(680)"/>
    </g>
   </g>
   <g transform="translate(480,0)">
    <use xlink:href="#radius" transform="rotate(240)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 6</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(320)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="-10" y="-1" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 1 1 -4.50,-5.36"/>
     <use xlink:href="#arrowhead" transform="translate(-4,-5) rotate(320)"/>
    </g>
    <text x="-13" y="6" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M -4.50,-5.36 L -6.43,-7.66 A 10.00,10.00 0 1 1 -9.85,-1.74"/>
     <use xlink:href="#arrowhead" transform="translate(-10,-2) rotate(640)"/>
    </g>
    <text x="-11" y="15" font-size="8" font-weight="bold" fill="#009900">3</text>
    <g stroke="#009900">
     <path d="M -9.85,-1.74 L -12.80,-2.26 A 13.00,13.00 0 1 1 -11.26,6.50"/>
     <use xlink:href="#arrowhead" transform="translate(-11,7) rotate(960)"/>
    </g>
    <text x="-1" y="22" font-size="8" font-weight="bold" fill="#0000ff">4</text>
    <g stroke="#0000ff">
     <path d="M -11.26,6.50 L -13.86,8.00 A 16.00,16.00 0 1 1 -5.47,15.04"/>
     <use xlink:href="#arrowhead" transform="translate(-5,15) rotate(1280)"/>
    </g>
    <text x="-14" y="19" font-size="8" font-weight="bold" fill="#000000">c</text>
    <g stroke="#000000">
     <path d="M -5.47,15.04 L -6.16,16.91 A 18.00,18.00 0 0 1 -15.59,9.00"/>
     <use xlink:href="#arrowhead" transform="translate(-16,9) rotate(1320)"/>
    </g>
   </g>
   <g transform="translate(560,0)">
    <use xlink:href="#radius" transform="rotate(280)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 7</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(240)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="-6" y="12" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 1 1 -6.06,3.50"/>
     <use xlink:href="#arrowhead" transform="translate(-6,4) rotate(240)"/>
    </g>
    <text x="13" y="4" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M -6.06,3.50 L -8.66,5.00 A 10.00,10.00 0 1 1 8.66,5.00"/>
     <use xlink:href="#arrowhead" transform="translate(9,5) rotate(480)"/>
    </g>
    <text x="-5" y="-13" font-size="8" font-weight="bold" fill="#009900">3</text>
    <g stroke="#009900">
     <path d="M 8.66,5.00 L 11.26,6.50 A 13.00,13.00 0 1 1 -0.00,-13.00"/>
     <use xlink:href="#arrowhead" transform="translate(-0,-13) rotate(720)"/>
    </g>
    <text x="-13" y="17" font-size="8" font-weight="bold" fill="#0000ff">4</text>
    <g stroke="#0000ff">
     <path d="M -0.00,-13.00 L -0.00,-16.00 A 16.00,16.00 0 1 1 -13.86,8.00"/>
     <use xlink:href="#arrowhead" transform="translate(-14,8) rotate(960)"/>
    </g>
    <text x="-21" y="6" font-size="8" font-weight="bold" fill="#000000">c</text>
    <g stroke="#000000">
     <path d="M -13.86,8.00 L -15.59,9.00 A 18.00,18.00 0 0 1 -17.73,-3.13"/>
     <use xlink:href="#arrowhead" transform="translate(-18,-3) rotate(1000)"/>
    </g>
   </g>
   <g transform="translate(640,0)">
    <use xlink:href="#radius" transform="rotate(80)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 2</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(280)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="-10" y="6" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 1 1 -6.89,-1.22"/>
     <use xlink:href="#arrowhead" transform="translate(-7,-1) rotate(280)"/>
    </g>
    <text x="0" y="16" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M -6.89,-1.22 L -9.85,-1.74 A 10.00,10.00 0 1 1 -3.42,9.40"/>
     <use xlink:href="#arrowhead" transform="translate(-3,9) rotate(560)"/>
    </g>
    <text x="16" y="6" font-size="8" font-weight="bold" fill="#009900">3</text>
    <g stroke="#009900">
     <path d="M -3.42,9.40 L -4.45,12.22 A 13.00,13.00 0 1 1 11.26,6.50"/>
     <use xlink:href="#arrowhead" transform="translate(11,7) rotate(840)"/>
    </g>
    <text x="8" y="-15" font-size="8" font-weight="bold" fill="#0000ff">4</text>
    <g stroke="#0000ff">
     <path d="M 11.26,6.50 L 13.86,8.00 A 16.00,16.00 0 1 1 10.28,-12.26"/>
     <use xlink:href="#arrowhead" transform="translate(10,-12) rotate(1120)"/>
    </g>
    <text x="19" y="-8" font-size="8" font-weight="bold" fill="#000000">c</text>
    <g stroke="#000000">
     <path d="M 10.28,-12.26 L 11.57,-13.79 A 18.00,18.00 0 0 1 17.73,-3.13"/>
     <use xlink:href="#arrowhead" transform="translate(18,-3) rotate(1160)"/>
    </g>
   </g>
   <g transform="translate(720,0)">
    <use xlink:href="#radius" transform="rotate(0)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output 0</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(80)" stroke="#666666" stroke-dasharray="3,2"/>
    <text x="8" y="-3" font-size="8" font-weight="bold" fill="#999999">1</text>
    <g stroke="#999999">
     <path d="M 0.00,-0.00 L 0.00,-7.00 A 7.00,7.00 0 0 1 6.89,-1.22"/>
     <use xlink:href="#arrowhead" transform="translate(7,-1) rotate(80)"/>
    </g>
    <text x="9" y="13" font-size="8" font-weight="bold" fill="#cc0000">2</text>
    <g stroke="#cc0000">
     <path d="M 6.89,-1.22 L 9.85,-1.74 A 10.00,10.00 0 0 1 3.42,9.40"/>
     <use xlink:href="#arrowhead" transform="translate(3,9) rotate(160)"/>
    </g>
    <text x="-11" y="15" font-size="8" font-weight="bold" fill="#009900">3</text>
    <g stroke="#009900">
     <path d="M 3.42,9.40 L 4.45,12.22 A 13.00,13.00 0 0 1 -11.26,6.50"/>
     <use xlink:href="#arrowhead" transform="translate(-11,7) rotate(240)"/>
    </g>
    <text x="-16" y="-8" font-size="8" font-weight="bold" fill="#0000ff">4</text>
    <g stroke="#0000ff">
     <path d="M -11.26,6.50 L -13.86,8.00 A 16.00,16.00 0 0 1 -10.28,-12.26"/>
     <use xlink:href="#arrowhead" transform="translate(-10,-12) rotate(320)"/>
    </g>
    <text x="-7" y="-17" font-size="8" font-weight="bold" fill="#000000">c</text>
    <g stroke="#000000">
     <path d="M -10.28,-12.26 L -11.57,-13.79 A 18.00,18.00 0 0 1 -0.00,-18.00"/>
     <use xlink:href="#arrowhead" transform="translate(-0,-18) rotate(360)"/>
    </g>
   </g>
   <g transform="translate(-80,-30)" fill="#000000">
    <text x="0" y="20" font-style="italic">m</text><text x="25" y="20">= 9</text>
    <text x="0" y="40" font-style="italic">a</text><text x="25" y="40">= 4</text>
    <text x="0" y="60" font-style="italic">c</text><text x="25" y="60">= 1</text>
   </g>
   <use xlink:href="#hr"/>
  </g>
 </g>
<!-- } END_DYNAMIC_SVG -->
</svg>
<!-- Please retain this and other comments, which contain Python code to generate this SVG. """
import math
import re
def join(list, delimiter = ''): return delimiter.join(list).strip('\n')
def x_to_deg(x): return x * 360 / m
def path_arc(radius, radius_previous, deg_begin, deg_step):
 deg_end   = deg_begin + deg_step
 rad_begin = deg_begin * math.pi / 180
 rad_end   = deg_end   * math.pi / 180
 return ('''     <path d="M %.2f,%.2f L %.2f,%.2f A %.2f,%.2f 0 %d 1 %.2f,%.2f"/>
     <use xlink:href="#arrowhead" transform="translate(%.0f,%.0f) rotate(%d)"/>''' %
         (radius_previous * math.sin(rad_begin), radius_previous * -math.cos(rad_begin),
          radius * math.sin(rad_begin), radius * -math.cos(rad_begin),
          radius                      , radius , 0 if (deg_step < 180) else 1,
          radius * math.sin(rad_end  ), radius * -math.cos(rad_end  ),
          radius * math.sin(rad_end  ), radius * -math.cos(rad_end  ), deg_end))

outs          = []
out_frames    = []
out_numbers   = []
m             = 9
radius_number = 29
frames        = [ {'a':2,'c':0,'seed':1},
                  {'a':2,'c':0,'seed':3},
                  {'a':4,'c':1,'seed':0} ]
colours = ['#999999','#cc0000','#009900','#0000ff']

if (0):
 for    m    in range(8, 100):
  for   a    in range(2, m):
   for  c    in range(0, m):
    print ('m=%d a=%2d c=%2d:' % (m, a, c)),
    for seed in range(0, m):
     if (seed % 5 == 0): print ' ',
     is_seen = [False] * m
     count   = 0
     x       = seed
     while (not is_seen[x]):
      is_seen[x] = True
      x          = (x * a + c) % m
      count += 1
     print ('%2d%s' % (count, '*' if (count == m) else ' ')),
    print
   print
  raw_input('Press Enter ')
 quit()

for i_frame in range(0, len(frames)):
 frame      = frames[i_frame]
 a          = int(frame['a'])
 c          = int(frame['c'])
 seed       = int(frame['seed'])
 x          = seed
 x_previous = x
 i_cycle    = 0
 out_cycles = []
 out_cycles.append('''
   <g>
    <text x="0" y="48" fill="#000000">seed = %d</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(%d)" stroke="#000000"/>
   </g>''' % (x, x_to_deg(seed)))
 is_seen = [False] * m
 while (not is_seen[x]):
  print x,
  is_seen[x]      = True
  deg             = x_to_deg(x)
  x               = (x * a + c) % m
  radius_previous = 0
  out_arcs        = []
  for i_a in range(0, a):
   radius = i_a * 3 + 7
   rad    = (i_a + 1) * deg * math.pi / 180
   radius_text = radius + 4
   rad_text    = rad - 0.6 + 0.02 * radius
   if (x_previous > 0):
    out_arcs.append('''
    <text x="%d" y="%d" font-size="8" font-weight="bold" fill="%s">%d</text>''' %
     (radius_text * math.sin(rad_text), 3 - radius_text * math.cos(rad_text), # 3 to valign text
      colours[i_a % len(colours)], i_a + 1))
   out_arcs.append('''
    <g stroke="%s">
%s
    </g>''' % (colours[i_a % len(colours)], path_arc(radius, radius_previous, i_a * deg, deg)))
   radius_previous = radius
  radius_c = radius + 6
  rad_c    = x_to_deg(x - 0.5) * math.pi / 180
  out_c = '' if (c == 0) else '''
    <text x="%d" y="%d" font-size="8" font-weight="bold" fill="#000000">c</text>
    <g stroke="#000000">
%s
    </g>''' % (radius_c * math.sin(rad_c), 3 - radius_c * math.cos(rad_c), # 3 to valign text
               path_arc(radius + 2, radius, (i_a + 1) * deg, x_to_deg(c)))
  out_cycles.append('''
   <g transform="translate(%d,0)">
    <use xlink:href="#radius" transform="rotate(%d)" stroke="#000000"/>
    <text x="0" y="48" fill="#000000">output %d</text>
    <use xlink:href="#common"/>
    <use xlink:href="#radius" transform="rotate(%d)" stroke="#666666" stroke-dasharray="3,2"/>
%s%s
   </g>''' % ((i_cycle + 1) * 80, x_to_deg(x), x, deg, join(out_arcs), out_c))
  i_cycle += 1
  x_previous      = x
 print
 out_frames.append('''
  <g transform="translate(0,%d)">
%s
   <g transform="translate(-80,-30)" fill="#000000">
    <text x="0" y="20" font-style="italic">m</text><text x="25" y="20">= %d</text>
    <text x="0" y="40" font-style="italic">a</text><text x="25" y="40">= %d</text>
    <text x="0" y="60" font-style="italic">c</text><text x="25" y="60">= %d</text>
   </g>
   <use xlink:href="#hr"/>
  </g>''' % (i_frame * 100, join(out_cycles), m, a, c))

for i_number in range(0, m):
 rad = i_number * 2 * math.pi / m
 out_numbers.append('''
   <text x="%.0f" y="%.0f" dy="0.7ex">%d</text>''' %
  (radius_number * math.sin(rad), radius_number * -math.cos(rad), i_number))

outs.append('''
  <circle cx="0" cy="0" r="20" fill="#cccccc"/>
  <g id="common" font-size="12" fill="#000000">
%s
  </g>
 </defs>
 <circle cx="0" cy="0" r="99999" fill="#ffffff"/>
 <g font-family="Arial,Helvetica,sans-serif" font-size="16" text-anchor="middle" stroke-linejoin="round" stroke="none" fill="none">
%s
 </g>
''' % (join(out_numbers), join(out_frames)))

# Code to compile everything into a .svg file follows...
double_dash = '-' + '-' # because SVG comments cannot have 2 consecutive '-'s
myself      = open(__file__, 'r').read() # the contents of this very file
file_out    = open(re.sub(r'\..*?$', '', __file__) + '.svg', 'w') # *.* -> *.svg
try: # use try/finally so that file is closed even if write fails
 file_out.write(
  '''<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><!%s
%s''' % (double_dash,
         re.sub(r'(BEGIN[_]DYNAMIC_SVG.*\n?)[\s\S]*(\n.*END[_]DYNAMIC_SVG)',
                r'\1\n%s\2' % (join(outs)),
                myself))) # replace dynamic SVG year with contents of "outs"
finally:
 file_out.close()
# SVG-Python near-polyglot framework by CMG Lee (Oct 2014) -->
